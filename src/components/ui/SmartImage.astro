---
interface Props {
  src: string;
  alt: string;
  class?: string;
  loading?: "lazy" | "eager";
  isPriority?: boolean; // Для LCP (первой картинки)
}

const { src, alt, class: className, isPriority = false } = Astro.props;
---

<img loading="lazy" decoding="async"
  src={src}
  alt={alt}
  class={className}
  /* Если картинка приоритетная — грузим сразу, иначе — лениво */
  loading={isPriority ? "eager" : "lazy"}
  decoding={isPriority ? "sync" : "async"}
  fetchpriority={isPriority ? "high" : "auto"}
/>