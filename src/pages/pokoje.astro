---
import MainLayout from '../layouts/MainLayout.astro';
import roomsData from '../data/rooms.json';

// Иконки
const icons = {
  size: `<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4" /></svg>`,
  user: `<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>`,
  bed: `<svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M5 13l4 4L19 7" /></svg>`,
  check: `<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-accent" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg>`
};
---

<MainLayout title="Pokoje i Apartamenty | WislaStay">

  <header class="bg-surface pt-40 pb-20 text-center">
    <div class="container-main">
      <span class="text-accent text-xs font-bold uppercase tracking-[0.25em] block mb-4">
        {roomsData.subheading}
      </span>
      <h1 class="font-serif text-5xl md:text-6xl text-primary">
        {roomsData.heading}
      </h1>
    </div>
  </header>

  <section class="pb-32 bg-surface">
    <div class="container-main flex flex-col gap-24">
      
      {roomsData.items.map((room, index) => (
        <article class={`flex flex-col lg:flex-row gap-12 lg:gap-20 items-center ${index % 2 === 1 ? 'lg:flex-row-reverse' : ''}`}>
          
          <div class="w-full lg:w-1/2 relative group cursor-pointer overflow-hidden rounded-sm">
             <div class="aspect-[4/3] overflow-hidden bg-gray-200">
               <img loading="lazy" decoding="async" 
                 src={room.image} 
                 alt={room.name} 
                 class="w-full h-full object-cover transition-transform duration-1000 group-hover:scale-105"
               />
             </div>
             <div class="absolute bottom-0 left-0 bg-white px-6 py-4 border-t border-r border-accent/20">
               <span class="font-serif text-2xl text-primary">{room.price}</span>
               <span class="text-xs text-gray-400 uppercase tracking-wider">{room.priceDetail}</span>
             </div>
          </div>

          <div class="w-full lg:w-1/2">
            <h2 class="font-serif text-4xl text-primary mb-6">{room.name}</h2>
            
            <div class="grid grid-cols-3 gap-4 border-y border-gray-200 py-6 mb-8">
              <div class="flex flex-col gap-1">
                <span class="text-xs text-gray-400 uppercase tracking-widest flex items-center gap-2">
                  <div class="w-4 h-4" set:html={icons.size} /> Metraż
                </span>
                <span class="font-serif text-lg text-primary">{room.size}</span>
              </div>
              <div class="flex flex-col gap-1">
                <span class="text-xs text-gray-400 uppercase tracking-widest flex items-center gap-2">
                  <div class="w-4 h-4" set:html={icons.user} /> Goście
                </span>
                <span class="font-serif text-lg text-primary">{room.capacity}</span>
              </div>
               <div class="flex flex-col gap-1">
                <span class="text-xs text-gray-400 uppercase tracking-widest flex items-center gap-2">
                  <div class="w-4 h-4" set:html={icons.bed} /> Łóżko
                </span>
                <span class="font-serif text-lg text-primary">{room.bed}</span>
              </div>
            </div>

            <p class="text-gray-600 font-light leading-relaxed mb-8 text-lg">
              {room.description}
            </p>

            <ul class="grid grid-cols-2 gap-y-3 mb-10">
              {room.features.map(feature => (
                <li class="flex items-center gap-3 text-sm text-gray-500 uppercase tracking-wider">
                  <div class="w-4 h-4" set:html={icons.check} /> {feature}
                </li>
              ))}
            </ul>

           <button 
  onclick={`window.openBookingDrawer('${room.id}', '${room.name}')`}
  class="inline-block bg-primary text-white px-10 py-4 font-bold uppercase tracking-[0.15em] hover:bg-accent transition-all cursor-pointer"
>
  Zarezerwuj
</button>
          </div>

        </article>
      ))}

    </div>
  </section>

  

</MainLayout>

